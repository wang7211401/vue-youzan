{"version":3,"sources":["webpack:///static/js/cart.852432da0f2530c74251.js","webpack:///./src/modules/js/api.js?4c58**","webpack:///./src/modules/js/fetch.js","webpack:///./src/modules/js/cartService.js","webpack:///./src/pages/cart/cart.js"],"names":["webpackJsonp","0","module","__webpack_exports__","__webpack_require__","url","hotLists","banner","topList","subList","rank","searchList","details","deal","cartAdd","cartRemove","cartMremove","cartReduce","cartLists","cartUpdate","key","hasOwnProperty","40","fetch","data","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","reject","__WEBPACK_IMPORTED_MODULE_1_axios___default","post","then","res","status","catch","error","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","n","__WEBPACK_IMPORTED_MODULE_1_axios__","62","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_2_js_fetch_js__","__WEBPACK_IMPORTED_MODULE_3_js_api_js__","Cart","this","value","id","i","number","arr","ids","forEach","good","push","63","exports","64","65","97","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__cart_css__","__WEBPACK_IMPORTED_MODULE_1__cart_base_css__","__WEBPACK_IMPORTED_MODULE_2__cart_trade_css__","__WEBPACK_IMPORTED_MODULE_3_vue__","__WEBPACK_IMPORTED_MODULE_4_axios__","__WEBPACK_IMPORTED_MODULE_4_axios___default","__WEBPACK_IMPORTED_MODULE_5_js_api_js__","__WEBPACK_IMPORTED_MODULE_6_velocity_animate__","__WEBPACK_IMPORTED_MODULE_6_velocity_animate___default","__WEBPACK_IMPORTED_MODULE_8_js_fetch_js__","el","lists","total","editingShop","editingShopIndex","removePopup","removeData","removeMsg","computed","allSelected","get","length","every","shop","checked","set","newVal","goodsList","selectLists","list","price","allRemoveSelected","removeChecked","removeLists","created","getLists","methods","_this","cartList","editing","editingMsg","selectGood","attr","selectShop","selectAll","edit","shopIndex","item","index","start","e","startX","changedTouches","clientX","end","goodIndex","endX","left","$refs","reduce","add","remove","removeList","removeConfirm","_this2","_removeData","splice","console","log","removeShop","findIndex","filters","toFixed"],"mappings":"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","file":"static/js/cart.852432da0f2530c74251.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 0:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar url = {\n    hotLists: '/index/hotLists',\n    banner: '/index/banner',\n    topList: '/category/topList',\n    subList: '/category/subList',\n    rank: '/category/rank',\n    searchList: '/search/list',\n    details: '/goods/details',\n    deal: '/goods/deal',\n    cartAdd: '/cart/add',\n    cartRemove: '/cart/remove',\n    cartMremove: '/cart/mremove',\n    cartReduce: '/cart/reduce',\n    cartLists: '/cart/list',\n    cartUpdate: 'cart/update'\n};\n\nvar host = 'http://rapapi.org/mockjsdata/24170';\n\nfor (var key in url) {\n    if (url.hasOwnProperty(key)) {\n        url[key] = host + url[key];\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (url);\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(104);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n\n\n\nfunction fetch(url, data) {\n    return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n        __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(url, data).then(function (res) {\n            var status = res.data.status;\n            if (status === 200) {\n                resolve(res);\n            } else {\n                resolve(res);\n            }\n        }).catch(function (error) {\n            reject(error);\n        });\n    });\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (fetch);\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(105);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(106);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_fetch_js__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_js_api_js__ = __webpack_require__(0);\n\n\n\n\n\nvar Cart = function () {\n    function Cart() {\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Cart);\n    }\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(Cart, null, [{\n        key: 'add',\n        value: function add(id) {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_js_fetch_js__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_3_js_api_js__[\"a\" /* default */].cartAdd, {\n                id: id,\n                number: 1\n            });\n        }\n    }, {\n        key: 'reduce',\n        value: function reduce(id) {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_js_fetch_js__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_3_js_api_js__[\"a\" /* default */].cartReduce, {\n                id: id,\n                number: 1\n            });\n        }\n    }, {\n        key: 'remove',\n        value: function remove(arr) {\n            var ids = [];\n            arr.forEach(function (good) {\n                ids.push(good.id);\n            });\n        }\n    }]);\n\n    return Cart;\n}();\n\n/* unused harmony default export */ var _unused_webpack_default_export = (Cart);\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__cart_css__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__cart_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__cart_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__cart_base_css__ = __webpack_require__(64);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__cart_base_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__cart_base_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cart_trade_css__ = __webpack_require__(65);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cart_trade_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__cart_trade_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_axios__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_js_api_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_velocity_animate__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_velocity_animate___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_velocity_animate__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_js_cartService_js__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_js_fetch_js__ = __webpack_require__(40);\n\n\n\n\n\n\n\n\n\n\n\nnew __WEBPACK_IMPORTED_MODULE_3_vue__[\"default\"]({\n    el: '.container',\n    data: {\n        lists: null,\n        total: 0,\n        editingShop: null,\n        editingShopIndex: -1,\n        removePopup: false,\n        removeData: null,\n        removeMsg: ''\n        // allSelected:true,\n        // allRemoveSelected:false,\n        // selectLists:[]\n    },\n    computed: {\n        allSelected: {\n            get: function get() {\n                if (this.lists && this.lists.length) {\n                    return this.lists.every(function (shop) {\n                        return shop.checked;\n                    });\n                }\n                return false;\n            },\n            set: function set(newVal) {\n                this.lists.forEach(function (shop) {\n                    shop.checked = newVal;\n                    shop.goodsList.forEach(function (good) {\n                        good.checked = newVal;\n                    });\n                });\n            }\n        },\n        selectLists: function selectLists() {\n            if (this.lists && this.lists.length === 0) {\n                this.total = 0;\n            }\n            if (this.lists && this.lists.length) {\n                var arr = [];\n                var total = 0;\n                this.lists.forEach(function (list) {\n                    list.goodsList.forEach(function (good) {\n                        if (good.checked) {\n                            arr.push(good);\n                            total += good.price * good.number;\n                        }\n                    });\n                });\n                this.total = total;\n                return arr;\n            }\n        },\n\n        allRemoveSelected: {\n            get: function get() {\n                if (this.editingShop) {\n                    return this.editingShop.removeChecked;\n                }\n                return false;\n            },\n            set: function set(newVal) {\n                if (this.editingShop) {\n                    this.editingShop.removeChecked = newVal;\n                    this.editingShop.goodsList.forEach(function (good) {\n                        good.removeChecked = newVal;\n                    });\n                }\n            }\n        },\n        removeLists: function removeLists() {\n            if (this.editingShop) {\n                var arr = [];\n                this.editingShop.goodsList.forEach(function (good) {\n                    if (good.removeChecked) {\n                        arr.push(good);\n                    }\n                });\n                return arr;\n            }\n            return [];\n        }\n    },\n    created: function created() {\n        this.getLists();\n    },\n\n    methods: {\n        getLists: function getLists() {\n            var _this = this;\n\n            __WEBPACK_IMPORTED_MODULE_4_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_5_js_api_js__[\"a\" /* default */].cartLists).then(function (res) {\n                var list = res.data.cartList;\n                list.forEach(function (shop) {\n                    shop.checked = true;\n                    shop.removeChecked = false;\n                    shop.editing = false;\n                    shop.editingMsg = '编辑';\n                    shop.goodsList.forEach(function (good) {\n                        good.checked = true;\n                        good.removeChecked = false;\n                    });\n                });\n                _this.lists = list;\n            });\n        },\n        selectGood: function selectGood(shop, good) {\n            var attr = this.editingShop ? 'removeChecked' : 'checked';\n            good[attr] = !good[attr];\n            shop[attr] = shop.goodsList.every(function (good) {\n                return good[attr];\n            });\n        },\n        selectShop: function selectShop(shop) {\n            var attr = this.editingShop ? 'removeChecked' : 'checked';\n            shop[attr] = !shop[attr];\n            shop.goodsList.forEach(function (good) {\n                good[attr] = shop[attr];\n            });\n        },\n        selectAll: function selectAll() {\n            var attr = this.editingShop ? 'allRemoveSelected' : 'allSelected';\n            this[attr] = !this[attr];\n        },\n        edit: function edit(shop, shopIndex) {\n            shop.editing = !shop.editing;\n            shop.editingMsg = shop.editing ? '完成' : '编辑';\n            this.lists.forEach(function (item, index) {\n                if (shopIndex !== index) {\n                    item.editing = false;\n                    item.editingMsg = shop.editing ? '' : '编辑';\n                }\n            });\n            this.editingShop = shop.editing ? shop : null;\n            this.editingShopIndex = shop.editing ? shopIndex : -1;\n        },\n        start: function start(e, good) {\n            good.startX = e.changedTouches[0].clientX;\n        },\n        end: function end(e, shopIndex, good, goodIndex) {\n            var endX = e.changedTouches[0].clientX;\n            var left = \"0\";\n            if (good.startX - endX > 100) {\n                left = '-60px';\n            }\n            if (endX - good.startX > 100) {\n                left = '0px';\n            }\n            __WEBPACK_IMPORTED_MODULE_6_velocity_animate___default()(this.$refs['goods-' + shopIndex + '-' + goodIndex], {\n                left: left\n            });\n        },\n        reduce: function reduce(good) {\n            if (good.number === 1) return;\n            __WEBPACK_IMPORTED_MODULE_4_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_5_js_api_js__[\"a\" /* default */].cartReduce, {\n                id: good.id,\n                number: 1\n            }).then(function (res) {\n                good.number--;\n            });\n        },\n        add: function add(good) {\n            __WEBPACK_IMPORTED_MODULE_4_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_5_js_api_js__[\"a\" /* default */].cartAdd, {\n                id: good.id,\n                number: 1\n            }).then(function (res) {\n                good.number++;\n            });\n        },\n        remove: function remove(shop, shopIndex, good, goodIndex) {\n            this.removePopup = true;\n            this.removeData = { shop: shop, shopIndex: shopIndex, good: good, goodIndex: goodIndex };\n            this.removeMsg = \"确定要删除该商品吗？\";\n        },\n        removeList: function removeList() {\n            this.removePopup = true;\n            this.removeMsg = '\\u786E\\u5B9A\\u5C06\\u6240\\u9009 ' + this.removeLists.length + ' \\u4E2A\\u5546\\u54C1\\u5220\\u9664?';\n        },\n        removeConfirm: function removeConfirm() {\n            var _this2 = this;\n\n            if (this.removeMsg === '确定要删除该商品吗？') {\n                var _removeData = this.removeData,\n                    shop = _removeData.shop,\n                    shopIndex = _removeData.shopIndex,\n                    good = _removeData.good,\n                    goodIndex = _removeData.goodIndex;\n\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_js_fetch_js__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_5_js_api_js__[\"a\" /* default */].cartRemove, {\n                    id: good.id\n                }).then(function (res) {\n                    shop.goodsList.splice(goodIndex, 1);\n                    console.log(shop.goodsList.length);\n                    if (!shop.goodsList.length) {\n                        _this2.lists.splice(shopIndex, 1);\n                        _this2.removeShop();\n                    }\n                    _this2.removePopup = false;\n                });\n            } else {\n                var ids = [];\n                this.removeLists.forEach(function (good) {\n                    ids.push(good.id);\n                });\n                __WEBPACK_IMPORTED_MODULE_4_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_5_js_api_js__[\"a\" /* default */].cartMremove, {\n                    ids: ids\n                }).then(function (res) {\n                    var arr = [];\n                    _this2.editingShop.goodsList.forEach(function (good) {\n                        var index = _this2.removeLists.findIndex(function (item) {\n                            return item.id === good.id;\n                        });\n                        if (index === -1) {\n                            arr.push(good);\n                        }\n                    });\n                    if (arr.length) {\n                        _this2.editingShop.goodsList = arr;\n                    } else {\n                        _this2.lists.splice(_this2.editingShopIndex, 1);\n                        _this2.removeShop();\n                    }\n                    _this2.removePopup = false;\n                });\n            }\n        },\n        removeShop: function removeShop() {\n            this.editingShop = null;\n            this.editingShopIndex = -1;\n            this.lists.forEach(function (shop) {\n                shop.editing = false;\n                shop.editingMsg = \"编辑\";\n            });\n        }\n    },\n    filters: {\n        number: function number(price) {\n            return price.toFixed(2);\n        }\n    }\n});\n\n/***/ })\n\n},[97]);\n\n\n// WEBPACK FOOTER //\n// static/js/cart.852432da0f2530c74251.js","let url ={\r\n    hotLists:'/index/hotLists',\r\n    banner:'/index/banner',\r\n    topList:'/category/topList',\r\n    subList:'/category/subList',\r\n    rank:'/category/rank',\r\n    searchList:'/search/list',\r\n    details:'/goods/details',\r\n    deal:'/goods/deal',\r\n    cartAdd:'/cart/add',\r\n    cartRemove:'/cart/remove',\r\n    cartMremove:'/cart/mremove',\r\n    cartReduce:'/cart/reduce',\r\n    cartLists:'/cart/list',\r\n    cartUpdate:'cart/update'\r\n}\r\n\r\n\r\nlet host = 'http://rapapi.org/mockjsdata/24170'\r\n\r\nfor(let key in url){\r\n    if(url.hasOwnProperty(key)){\r\n        url[key] = host + url[key]\r\n    }\r\n}\r\n\r\nexport default url\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","import axios from 'axios'\r\n\r\nfunction fetch(url,data){\r\n    return new Promise((resolve,reject) =>{\r\n        axios.post(url,data).then(res =>{\r\n            let status = res.data.status\r\n            if(status === 200){\r\n                resolve(res)\r\n            }else{\r\n                resolve(res)\r\n            }\r\n        }).catch(error =>{\r\n            reject(error)\r\n        })\r\n    })\r\n}\r\n\r\nexport default fetch\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/fetch.js","import fetch from 'js/fetch.js'\r\nimport url from 'js/api.js'\r\n\r\nclass Cart {\r\n    static add(id){\r\n        return fetch(url.cartAdd,{\r\n            id,\r\n            number:1\r\n        })\r\n    }\r\n    static reduce(id){\r\n        return fetch(url.cartReduce,{\r\n            id,\r\n            number:1\r\n        })\r\n    }\r\n    static remove(arr){\r\n        let ids =[]\r\n        arr.forEach(good=>{\r\n            ids.push(good.id)\r\n        })\r\n    }\r\n}\r\n\r\nexport default Cart\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/cartService.js","import './cart.css'\r\nimport './cart_base.css'\r\nimport './cart_trade.css'\r\n\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport url from 'js/api.js'\r\nimport Volecity from 'velocity-animate'\r\nimport Cart from 'js/cartService.js'\r\nimport fetch from 'js/fetch.js'\r\n\r\n\r\nnew Vue({\r\n    el:'.container',\r\n    data:{\r\n        lists:null,\r\n        total:0,\r\n        editingShop:null,\r\n        editingShopIndex: -1,\r\n        removePopup:false,\r\n        removeData:null,\r\n        removeMsg:'',\r\n        // allSelected:true,\r\n        // allRemoveSelected:false,\r\n        // selectLists:[]\r\n    },\r\n    computed:{\r\n        allSelected:{\r\n            get(){\r\n                if(this.lists && this.lists.length){\r\n                    return this.lists.every(shop=>{\r\n                        return shop.checked\r\n                    })\r\n                }\r\n                return false\r\n            },\r\n            set(newVal){\r\n                this.lists.forEach(shop=>{\r\n                    shop.checked = newVal\r\n                    shop.goodsList.forEach(good=>{\r\n                        good.checked = newVal\r\n                    })\r\n                })\r\n            }\r\n        },\r\n        selectLists(){\r\n            if(this.lists && this.lists.length === 0){\r\n                this.total = 0\r\n            }\r\n            if(this.lists && this.lists.length){\r\n                let arr =[]\r\n                let total = 0\r\n                this.lists.forEach(list=>{\r\n                    list.goodsList.forEach(good=>{\r\n                        if(good.checked){\r\n                            arr.push(good)\r\n                            total += good.price * good.number\r\n                        }\r\n                    })      \r\n                })\r\n                this.total = total\r\n                return arr\r\n            }\r\n        },\r\n        allRemoveSelected:{\r\n            get(){\r\n                if(this.editingShop){\r\n                    return this.editingShop.removeChecked\r\n                }\r\n                return false\r\n            },\r\n            set(newVal){\r\n                if(this.editingShop){\r\n                    this.editingShop.removeChecked = newVal\r\n                    this.editingShop.goodsList.forEach(good=>{\r\n                        good.removeChecked = newVal\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        removeLists(){\r\n            if(this.editingShop){\r\n                let arr =[]\r\n                this.editingShop.goodsList.forEach(good=>{\r\n                    if(good.removeChecked){\r\n                        arr.push(good)\r\n                    }\r\n                })\r\n                return arr\r\n            }\r\n            return []\r\n        }\r\n        \r\n    },\r\n    created(){\r\n        this.getLists()\r\n    },\r\n    methods:{\r\n        getLists(){\r\n            axios.post(url.cartLists).then(res=>{\r\n                let list = res.data.cartList\r\n                list.forEach(shop =>{\r\n                    shop.checked = true\r\n                    shop.removeChecked = false\r\n                    shop.editing = false\r\n                    shop.editingMsg = '编辑'\r\n                    shop.goodsList.forEach(good =>{\r\n                        good.checked = true\r\n                        good.removeChecked = false\r\n                    })\r\n                })\r\n                this.lists = list\r\n            })\r\n        },\r\n        selectGood(shop,good){\r\n            let attr = this.editingShop ? 'removeChecked' : 'checked'\r\n            good[attr] = !good[attr]\r\n            shop[attr] = shop.goodsList.every(good=>{\r\n                return good[attr]\r\n            })\r\n        },\r\n        selectShop(shop){\r\n            let attr = this.editingShop ? 'removeChecked' : 'checked'\r\n            shop[attr] = !shop[attr]\r\n            shop.goodsList.forEach(good=>{\r\n                good[attr] = shop[attr]\r\n            })\r\n        },   \r\n        selectAll(){\r\n            let attr = this.editingShop ? 'allRemoveSelected' : 'allSelected'\r\n            this[attr] = !this[attr]\r\n        },\r\n        edit(shop,shopIndex){\r\n            shop.editing = !shop.editing\r\n            shop.editingMsg = shop.editing ? '完成' : '编辑'\r\n            this.lists.forEach((item,index)=>{\r\n                if(shopIndex !== index){\r\n                    item.editing = false\r\n                    item.editingMsg = shop.editing ? '' : '编辑'\r\n                }\r\n            })\r\n            this.editingShop = shop.editing ? shop : null\r\n            this.editingShopIndex = shop.editing ? shopIndex : -1\r\n        },\r\n        start(e,good){\r\n            good.startX = e.changedTouches[0].clientX\r\n        },\r\n        end(e,shopIndex,good,goodIndex){\r\n            let endX = e.changedTouches[0].clientX\r\n            let left = \"0\"\r\n            if(good.startX - endX > 100){\r\n                left = '-60px'\r\n            }\r\n            if(endX - good.startX > 100){\r\n                left = '0px'\r\n            }\r\n            Volecity(this.$refs[`goods-${shopIndex}-${goodIndex}`],{\r\n                left\r\n            })\r\n        },\r\n        reduce(good){\r\n            if(good.number === 1)return\r\n            axios.post(url.cartReduce,{\r\n                id:good.id,\r\n                number:1\r\n            }).then(res=>{\r\n                good.number--\r\n            })\r\n            \r\n        },\r\n        add(good){\r\n            axios.post(url.cartAdd, {\r\n                id: good.id,\r\n                number: 1\r\n            }).then(res => {\r\n                good.number++\r\n            })\r\n        },\r\n        remove(shop,shopIndex,good,goodIndex){\r\n            this.removePopup = true\r\n            this.removeData = {shop,shopIndex,good,goodIndex}\r\n            this.removeMsg =\"确定要删除该商品吗？\"\r\n        },\r\n        removeList(){\r\n            this.removePopup = true\r\n            this.removeMsg = `确定将所选 ${this.removeLists.length} 个商品删除?`\r\n        },\r\n        removeConfirm(){\r\n            if(this.removeMsg === '确定要删除该商品吗？'){\r\n                let {shop,shopIndex,good,goodIndex} = this.removeData\r\n                fetch(url.cartRemove,{\r\n                    id:good.id\r\n                }).then(res=>{\r\n                    shop.goodsList.splice(goodIndex,1)\r\n                    console.log(shop.goodsList.length)\r\n                    if(!shop.goodsList.length){\r\n                        this.lists.splice(shopIndex,1)\r\n                        this.removeShop()\r\n                    }\r\n                    this.removePopup = false\r\n                })\r\n            }else{\r\n                let ids =[]\r\n                this.removeLists.forEach(good=>{\r\n                    ids.push(good.id)\r\n                })\r\n                axios.post(url.cartMremove,{\r\n                    ids\r\n                }).then(res=>{\r\n                    let arr =[]\r\n                    this.editingShop.goodsList.forEach(good=>{\r\n                        let index = this.removeLists.findIndex(item=>{\r\n                            return item.id === good.id\r\n                        })\r\n                        if(index === -1){\r\n                            arr.push(good)\r\n                        }\r\n                    })\r\n                    if(arr.length){\r\n                        this.editingShop.goodsList = arr\r\n                    }else{\r\n                        this.lists.splice(this.editingShopIndex,1)\r\n                        this.removeShop()\r\n                    }\r\n                    this.removePopup = false\r\n                })\r\n            \r\n            }\r\n        },\r\n        removeShop(){\r\n            this.editingShop = null\r\n            this.editingShopIndex = -1\r\n            this.lists.forEach(shop =>{\r\n                shop.editing = false\r\n                shop.editingMsg = \"编辑\"\r\n            })\r\n        }\r\n    },\r\n    filters:{\r\n        number(price){\r\n            return price.toFixed(2)\r\n        }\r\n    }\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.js"],"sourceRoot":""}